# ============================================================================
# NexusESI Backend - Railway Environment Configuration
# ============================================================================
# Instrucciones:
# 1. Copia estas variables en el panel de Railway (Settings > Variables)
# 2. Reemplaza los valores [placeholder] con tus credenciales reales
# 3. Railway auto-provee las variables de base de datos al agregar MySQL
# ============================================================================

# --- Application Settings ---
APP_NAME=NexusESI
APP_ENV=production
APP_DEBUG=false
APP_KEY=                                # Railway: Generar con: php artisan key:generate --show
APP_URL=https://your-backend.up.railway.app
FRONTEND_URL=https://your-frontend.up.railway.app

# --- Database (Auto-provisioned by Railway MySQL) ---
# Railway automáticamente inyecta estas variables cuando agregas MySQL
# No necesitas configurarlas manualmente, pero puedes referenciarlas así:
DB_CONNECTION=mysql
DB_HOST=${MYSQLHOST}
DB_PORT=${MYSQLPORT}
DB_DATABASE=${MYSQLDATABASE}
DB_USERNAME=${MYSQLUSER}
DB_PASSWORD=${MYSQLPASSWORD}

# --- JWT Authentication ---
JWT_SECRET=                             # Railway: Generar con: php artisan jwt:secret --show
JWT_TTL=60
JWT_REFRESH_TTL=20160
JWT_BLACKLIST_ENABLED=true
JWT_SHOW_BLACKLIST_EXCEPTION=true

# --- Email Configuration (SendGrid) ---
MAIL_MAILER=sendgrid
SENDGRID_API_KEY=                       # Tu SendGrid API Key (formato: SG.xxxx)
MAIL_FROM_ADDRESS=noreply@nexusesi.com  # Email verificado en SendGrid
MAIL_FROM_NAME="${APP_NAME}"

# --- Pusher Configuration (WebSockets) ---
PUSHER_APP_ID=                          # Tu Pusher App ID
PUSHER_APP_KEY=                         # Tu Pusher Key
PUSHER_APP_SECRET=                      # Tu Pusher Secret
PUSHER_APP_CLUSTER=                     # Tu Pusher Cluster (ej: us2, eu)
BROADCAST_CONNECTION=pusher

# --- Queue Configuration ---
QUEUE_CONNECTION=database

# --- Cache & Session ---
CACHE_DRIVER=file
SESSION_DRIVER=cookie
SESSION_LIFETIME=120
SESSION_DOMAIN=.up.railway.app

# --- Logging ---
LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=info

# --- Security ---
SANCTUM_STATEFUL_DOMAINS=localhost,127.0.0.1,your-frontend.up.railway.app

# ============================================================================
# Variables Opcionales
# ============================================================================

# --- OTP Configuration ---
OTP_EXPIRATION_MINUTES=15
MAX_OTP_ATTEMPTS=5
RATE_LIMIT_PER_MINUTE=60

# --- AWS S3 (Opcional - Para archivos) ---
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=
# AWS_USE_PATH_STYLE_ENDPOINT=false

# ============================================================================
# Notas Importantes:
# ============================================================================
# 
# 1. NUNCA commitees este archivo con valores reales
# 2. Railway usa variables de entorno, no archivo .env
# 3. Para generar APP_KEY localmente: php artisan key:generate --show
# 4. Para generar JWT_SECRET localmente: php artisan jwt:secret --show
# 5. Railway MySQL auto-inyecta: MYSQLHOST, MYSQLPORT, MYSQLDATABASE, 
#    MYSQLUSER, MYSQLPASSWORD
# 6. Verifica tu dominio SendGrid en: https://app.sendgrid.com/settings/sender_auth
# 7. Pusher free tier incluye 200k mensajes/día
#
# ============================================================================

